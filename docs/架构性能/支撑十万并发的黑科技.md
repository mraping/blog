http本质：socket

saas平台整合资源

### BIO编程：

1. 理解什么是阻塞
2. 阻塞对服务端有什么 影响？
3. 阻塞时，服务端什么也干不了 ，不能处理其它客户端的链接。怎么改进？
4. 多线程
5. 如果并发量很大，会有什么问题？
6. 32位系统一个线程对象默认需要320kb内存，64位默认需要1M内存。业务对象还需要内存，内存 不够。过多的 线程还需要OS频繁切换，也会大大影响性能。
7. 怎么办？
8. 线程池
9. 阻塞对线程池的方式有什么影响？
10. 阻塞等待接受客户端的数据时，这段时间占着线程，而池中线程数量是有限的，并发量大时，将导致没有线程处理请求，请求时间长，甚至拒绝服务。
11. 思考：请求时间长，甚至拒绝 服务，这个问题是因为服务器的资源用到极致了？
12. 如果能不阻塞，在没有数据时就去干点别的事情，有数据了才处理数据那该多好

### NIO编程

从java 1.4开始，new io

- 可解决BIO阻塞的不足

- 但比BIO学习、使用复杂

- 可以以阻塞、非阻塞两种方式工作

- 在非阻塞模式下，可以用少量(甚至一个)线程处理大量IO连接。

- Java7推出了Nio.2(又称AIO，异步IO)

  

  buffer、channel

#### NIO工作流程

### NIO怎么用-Selector

Selector选择器：非阻塞模式下，一个选择器可检测对个SelectableChannel，获得为读写等操作准备好的通道。就不需要我们用循环去判断了。

通过Selector，一个线程可以处理多个Channel，可以极大减少线程数。

用CPU核心数量的线程，充分利用CPU资源，又减少线程切换。

#### Selector用法



### 流行的NIO框架

Netty

MINA



